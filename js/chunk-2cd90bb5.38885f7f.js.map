{"version":3,"sources":["webpack:///./src/views/Blindtest.vue","webpack:///./src/views/Blindtest.vue?07d9","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./src/views/Blindtest.vue?c78f"],"names":["id","style","blindtest","audio","progress","playlist","title","description","song","step","artist","name","album","ready","next","button","data","player","tracks","index","songReady","songEnded","methods","setSong","this","Audio","preview","addEventListener","currentTime","duration","play","pause","beforeCreate","dzr","getBlindTest","$route","params","i","length","j","Math","floor","random","__exports__","render","$","DESCRIPTORS","global","hasOwn","isCallable","isObject","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","prototype","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","String","result","symbolPrototype","constructor","symbolToString","toString","nativeSymbol","regexp","configurable","get","symbol","valueOf","string","call","desc","slice","replace","forced"],"mappings":"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","file":"js/chunk-2cd90bb5.38885f7f.js","sourcesContent":["<template>\n  <div id=\"progress\" :style=\"`width:${blindtest.audio.progress}%`\"></div>\n  <section v-if=\"playlist\">\n    <h2 v-html=\"playlist.title\"></h2>\n    <p v-html=\"playlist.description\"></p>\n    <div>\n      <h4\n        v-show=\"blindtest.step === 'answer'\"\n        v-html=\"blindtest.song.title\"\n      ></h4>\n      <h5\n        v-show=\"blindtest.step === 'answer'\"\n        v-html=\"blindtest.song.artist.name\"\n      ></h5>\n      <h6\n        v-show=\"blindtest.step === 'answer'\"\n        v-html=\"blindtest.song.album.title\"\n      ></h6>\n    </div>\n    <button @click=\"next\" v-if=\"blindtest.audio.ready\" v-html=\"button\"></button>\n  </section>\n</template>\n\n<script>\nimport Deezer from '@/services/deezer.service';\n\nexport default {\n  name: 'Blindtest',\n  data() {\n    return {\n      blindtest: {\n        audio: { ready: false, player: null, progress: 0 },\n        song: null,\n        step: 'start',\n      },\n      button: 'Start',\n      playlist: null,\n      tracks: null,\n      index: 0,\n      songReady: false,\n      songEnded: false,\n      progress: 0,\n    };\n  },\n  methods: {\n    setSong() {\n      this.blindtest.song = this.tracks[this.index];\n      this.blindtest.audio.player = new Audio(this.blindtest.song.preview);\n      this.blindtest.audio.player.addEventListener('canplaythrough', () => {\n        this.blindtest.audio.ready = true;\n      });\n      this.blindtest.audio.player.addEventListener('timeupdate', () => {\n        const { currentTime, duration } = this.blindtest.audio.player;\n        this.blindtest.audio.progress = (currentTime * 100) / duration;\n      });\n      this.blindtest.audio.player.addEventListener('ended', () => {\n        this.blindtest.step = 'answer';\n      });\n    },\n    next() {\n      if (this.blindtest.step === 'start') {\n        this.blindtest.audio.player.play();\n        this.blindtest.step = 'playing';\n        this.button = 'See answer';\n      } else if (this.blindtest.step === 'playing') {\n        this.blindtest.step = 'answer';\n        this.button = 'Next';\n      } else if (this.blindtest.step === 'answer') {\n        this.blindtest.audio.player.pause();\n        this.index += 1;\n        this.setSong();\n        this.blindtest.audio.player.play();\n        this.blindtest.step = 'playing';\n        this.button = 'See answer';\n      }\n    },\n  },\n  async beforeCreate() {\n    const dzr = new Deezer();\n    this.playlist = await dzr.getBlindTest(this.$route.params.id);\n    const tracks = this.playlist.tracks.data;\n    for (let i = tracks.length - 1; i > 0; i -= 1) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [tracks[i], tracks[j]] = [tracks[j], tracks[i]];\n    }\n    this.tracks = tracks;\n    this.setSong();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#progress {\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: aqua;\n  height: 2px;\n}\n</style>\n","import { render } from \"./Blindtest.vue?vue&type=template&id=38d6cf34&scoped=true\"\nimport script from \"./Blindtest.vue?vue&type=script&lang=js\"\nexport * from \"./Blindtest.vue?vue&type=script&lang=js\"\n\nimport \"./Blindtest.vue?vue&type=style&index=0&id=38d6cf34&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/dzr-blind-test/dzr-blind-test/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-38d6cf34\"]])\n\nexport default __exports__","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var nativeSymbol = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = nativeSymbol ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Blindtest.vue?vue&type=style&index=0&id=38d6cf34&lang=scss&scoped=true\""],"sourceRoot":""}