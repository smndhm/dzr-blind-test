{"version":3,"sources":["webpack:///./src/views/Blindtest.vue","webpack:///./src/views/Blindtest.vue?07d9","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/Blindtest.vue?d193","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["id","style","playlist","title","description","blindtest","song","step","artist","name","next","disabled","audio","ready","button","data","player","progress","tracks","index","songReady","songEnded","methods","setSong","this","Audio","preview","addEventListener","currentTime","duration","play","pause","beforeCreate","document","body","classList","add","dzr","getBlindTest","$route","params","i","length","j","Math","floor","random","__exports__","render","$","fails","isArray","isObject","toObject","lengthOfArrayLike","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","k","len","E","A","n","arguments","TypeError","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error","global","hasOwn","isCallable","copyConstructorProperties","NativeSymbol","Symbol","EmptyStringDescriptionStore","SymbolWrapper","String","result","symbolPrototype","constructor","symbolToString","nativeSymbol","regexp","symbol","valueOf","string","desc","slice","replace"],"mappings":"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","file":"js/chunk-2569ec30.9bdd4965.js","sourcesContent":["<template>\n  <div\n    id=\"progress\"\n    :style=\"\n      `\n      width:${blindtest.audio.progress}%;\n      background-color: hsl(210, 100%, ${100 - blindtest.audio.progress / 4}%);\n      `\n    \"\n  ></div>\n  <section v-if=\"playlist\">\n    <h2 v-html=\"playlist.title\"></h2>\n    <p v-html=\"playlist.description\"></p>\n    <div>\n      <div>\n        <h4\n          v-show=\"blindtest.step === 'answer'\"\n          v-html=\"blindtest.song.title\"\n        ></h4>\n        <h5\n          v-show=\"blindtest.step === 'answer'\"\n          v-html=\"blindtest.song.artist.name\"\n        ></h5>\n      </div>\n    </div>\n  </section>\n  <footer>\n    <button\n      @click=\"next\"\n      :disabled=\"!blindtest.audio.ready\"\n      v-html=\"button\"\n    ></button>\n  </footer>\n</template>\n\n<script>\nimport Deezer from '@/services/deezer.service';\n\nexport default {\n  name: 'Blindtest',\n  data() {\n    return {\n      blindtest: {\n        audio: { ready: false, player: null, progress: 0 },\n        song: null,\n        step: 'start',\n      },\n      button: 'Start',\n      playlist: null,\n      tracks: null,\n      index: 0,\n      songReady: false,\n      songEnded: false,\n      progress: 0,\n    };\n  },\n  methods: {\n    setSong() {\n      this.blindtest.song = this.tracks[this.index];\n      this.blindtest.audio.player = new Audio(this.blindtest.song.preview);\n      this.blindtest.audio.player.addEventListener('canplaythrough', () => {\n        this.blindtest.audio.ready = true;\n      });\n      this.blindtest.audio.player.addEventListener('timeupdate', () => {\n        const { currentTime, duration } = this.blindtest.audio.player;\n        this.blindtest.audio.progress = (currentTime * 100) / duration;\n      });\n      this.blindtest.audio.player.addEventListener('ended', () => {\n        this.blindtest.step = 'answer';\n      });\n    },\n    next() {\n      if (this.blindtest.step === 'start') {\n        this.blindtest.audio.player.play();\n        this.blindtest.step = 'playing';\n        this.button = 'See answer';\n      } else if (this.blindtest.step === 'playing') {\n        this.blindtest.step = 'answer';\n        this.button = 'Next';\n      } else if (this.blindtest.step === 'answer') {\n        this.blindtest.audio.player.pause();\n        this.index += 1;\n        this.setSong();\n        this.blindtest.audio.player.play();\n        this.blindtest.step = 'playing';\n        this.button = 'See answer';\n      }\n    },\n  },\n  async beforeCreate() {\n    document.body.classList.add('blindtest');\n\n    const dzr = new Deezer();\n    this.playlist = await dzr.getBlindTest(this.$route.params.id);\n    const tracks = this.playlist.tracks.data;\n    for (let i = tracks.length - 1; i > 0; i -= 1) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [tracks[i], tracks[j]] = [tracks[j], tracks[i]];\n    }\n    this.tracks = tracks;\n    this.setSong();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#progress {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100%;\n  z-index: -1;\n}\nfooter {\n  padding: 1rem;\n  button {\n    position: relative;\n    margin: auto;\n    padding: 1rem;\n    display: block;\n    width: calc(100% - 2rem);\n    background: transparent;\n    border: none;\n    &:before {\n      content: '';\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      z-index: -1;\n      border: 3px solid;\n      transform: skew(30deg);\n    }\n    &:hover {\n      cursor: pointer;\n    }\n  }\n}\n</style>\n","import { render } from \"./Blindtest.vue?vue&type=template&id=1a1febf8&scoped=true\"\nimport script from \"./Blindtest.vue?vue&type=script&lang=js\"\nexport * from \"./Blindtest.vue?vue&type=script&lang=js\"\n\nimport \"./Blindtest.vue?vue&type=style&index=0&id=1a1febf8&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/dzr-blind-test/dzr-blind-test/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1a1febf8\"]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = lengthOfArrayLike(E);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Blindtest.vue?vue&type=style&index=0&id=1a1febf8&lang=scss&scoped=true\"","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var nativeSymbol = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = nativeSymbol ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}